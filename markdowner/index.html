<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/darkStyle.css">
        <title>Markdowner</title>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="   crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script src="https://cdn.rawgit.com/showdownjs/showdown/1.8.5/dist/showdown.min.js"></script>
    </head>
    <body>
        <div id="topBar">
            <div id="logo">Markdowner</div>
            <div id="buttons">
                <div id="mdButton" class="toggleButton activeButton">Markdown</div>
                <div id="cssButton" class="toggleButton">css</div>
                <div id="htmlButton" class="toggleButton">html</div>
                <div id="outputButton" class="toggleButton activeButton">output</div>
            </div>
            
        </div>
        <div id="contentWrapper">   
            <textarea id="mdPanel" class="panel"># Hello, world!

Here's a link to [Adam P's Markdown Cheetsheet](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet)
            </textarea>
            <textarea id="cssPanel" class="panel hidden">
body {color:azure}
h1 {text-align:center}
a {color:azure;target:_blank}
            </textarea> 
            <textarea id="htmlPanel" class="panel hidden"></textarea>
            <iframe id="outputPanel" class="panel"></iframe>
        </div>
        
        <script src="js/updateOutput.js"></script>
        <script type="text/javascript">
            // update output on initial load
            updateOutput();

            var htmlTags = "<style type='text/css'> html {background:color; color:azure;} </style>";

            $(".toggleButton").hover(function() {
                $(this).addClass("highlightedButton");
            }, function() {
                $(this).removeClass("highlightedButton");
            });

            $(".toggleButton").click( function() {
                $(this).toggleClass("activeButton");
                $(this).removeClass("highlightedButton");
                let panelId = $(this).attr("id");
                panelId = panelId.slice(0,-6);
                panelId += "Panel";
                $("#" + panelId).toggleClass("hidden");
                let numberOfActivePanels = ($(".panel").length - $(".hidden").length);
                $(".panel").width(($(window).width() / numberOfActivePanels) - (($(".panel").length - $(".hidden").length) * 2));
            });

            $(".panel").height($(window).height() - $("#topBar").height() - 26);
            $(".panel").width(($(window).width() / 2) - (($(".panel").length - $(".hidden").length) * 3));
            $("#topBar").width($(window).width() - $("#topBar").css("padding"));

            
            $("textarea").on("change keyup paste", function() {
                updateOutput();
            });

        </script>

    </body>
</html>

